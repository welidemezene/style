/* Mobile Optimization Styles */
/* This file contains all mobile-specific optimizations */

/* Mobile viewport fixes */
@supports (height: 100dvh) {
    .mobile-safe-height {
        height: 100dvh;
        height: 100vh;
    }

    .mobile-safe-viewport {
        width: 100dvw;
        height: 100dvh;
    }
}

@supports not (height: 100dvh) {
    .mobile-safe-height {
        height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    }

    .mobile-safe-viewport {
        width: calc(100vw - env(safe-area-inset-left, 0px) - env(safe-area-inset-right, 0px));
        height: calc(100vh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px));
    }
}

/* iOS Safari specific fixes */
@supports (-webkit-touch-callout: none) {
    .ios-viewport-fix {
        height: -webkit-fill-available;
        min-height: -webkit-fill-available;
        width: -webkit-fill-available;
    }

    .ios-safe-area {
        padding-top: env(safe-area-inset-top, 0px);
        padding-bottom: env(safe-area-inset-bottom, 0px);
        padding-left: env(safe-area-inset-left, 0px);
        padding-right: env(safe-area-inset-right, 0px);
    }
}

/* Mobile animation performance optimizations */
.mobile-optimized-animation {
    will-change: transform, opacity;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    perspective: 1000px;
    -webkit-perspective: 1000px;
}

/* Mobile touch optimizations */
.mobile-touch-optimized {
    touch-action: manipulation;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

/* Mobile scroll optimizations */
.mobile-scroll-container {
    -webkit-overflow-scrolling: touch;
    overflow-scrolling: touch;
    overscroll-behavior: contain;
}

/* Mobile layout fixes */
@media (max-width: 600px) {

    /* Container fixes */
    .mobile-container {
        position: relative !important;
        width: 100% !important;
        height: auto !important;
        min-height: 100vh !important;
        overflow: hidden !important;
        box-sizing: border-box !important;
    }

    /* Fixed element fixes */
    .mobile-fixed-element {
        position: absolute !important;
        width: 100% !important;
        max-width: 100vw !important;
        left: 0 !important;
        right: 0 !important;
    }

    /* Text optimizations */
    .mobile-text {
        font-size: clamp(14px, 4vw, 18px) !important;
        line-height: 1.4 !important;
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }

    .mobile-heading {
        font-size: clamp(20px, 6vw, 28px) !important;
        line-height: 1.2 !important;
    }

    /* Image optimizations */
    .mobile-image {
        max-width: 100% !important;
        height: auto !important;
        object-fit: contain !important;
    }

    /* Animation simplifications */
    .mobile-reduced-animation {
        transition: opacity 0.3s ease !important;
        transform: none !important;
    }

    /* Z-index management */
    .mobile-z-index-fix {
        z-index: 1 !important;
    }

    .mobile-z-index-overlay {
        z-index: 10 !important;
    }

    .mobile-z-index-top {
        z-index: 100 !important;
    }
}

/* Very small mobile devices */
@media (max-width: 480px) {
    .mobile-xs-container {
        padding: 0 8px !important;
        margin: 0 !important;
    }

    .mobile-xs-text {
        font-size: clamp(12px, 3.5vw, 16px) !important;
    }

    .mobile-xs-heading {
        font-size: clamp(18px, 5vw, 24px) !important;
    }
}

/* Mobile landscape optimizations */
@media (max-width: 600px) and (orientation: landscape) {
    .mobile-landscape {
        min-height: 100vh !important;
        height: 100vh !important;
    }

    .mobile-landscape-text {
        font-size: clamp(12px, 3vw, 16px) !important;
    }
}

/* Mobile performance optimizations */
@media (max-width: 600px) {

    /* Reduce animation complexity */
    .mobile-simple-animation {
        animation-duration: 0.3s !important;
        animation-timing-function: ease-out !important;
    }

    /* Optimize transforms */
    .mobile-transform-optimized {
        transform: translate3d(0, 0, 0) !important;
        -webkit-transform: translate3d(0, 0, 0) !important;
    }

    /* Reduce box shadows for performance */
    .mobile-shadow-optimized {
        box-shadow: none !important;
    }

    /* Optimize filters */
    .mobile-filter-optimized {
        filter: none !important;
        backdrop-filter: none !important;
    }
}

/* Mobile memory optimizations */
@media (max-width: 600px) {

    /* Reduce DOM complexity */
    .mobile-dom-optimized {
        contain: layout style paint !important;
    }

    /* Optimize rendering */
    .mobile-render-optimized {
        contain: layout !important;
        will-change: auto !important;
    }
}

/* Mobile font rendering optimizations */
@media (max-width: 600px) {
    * {
        -webkit-font-smoothing: antialiased !important;
        -moz-osx-font-smoothing: grayscale !important;
        text-rendering: optimizeSpeed !important;
    }

    .mobile-font-optimized {
        font-display: swap !important;
        font-feature-settings: "liga" 0 !important;
    }
}

/* Mobile safe area handling */
@supports (padding: max(0px)) {
    .mobile-safe-area-container {
        padding-left: max(0px, env(safe-area-inset-left));
        padding-right: max(0px, env(safe-area-inset-right));
        padding-top: max(0px, env(safe-area-inset-top));
        padding-bottom: max(0px, env(safe-area-inset-bottom));
    }
}

/* Mobile animation frame rate optimization */
@media (max-width: 600px) {
    .mobile-60fps {
        transform: translateZ(0) !important;
        -webkit-transform: translateZ(0) !important;
        backface-visibility: hidden !important;
        -webkit-backface-visibility: hidden !important;
        perspective: 1000px !important;
        -webkit-perspective: 1000px !important;
    }
}

/* Mobile battery optimization */
@media (max-width: 600px) {
    .mobile-battery-optimized {
        animation-play-state: running !important;
    }

    .mobile-battery-optimized:not(:hover) {
        animation-play-state: paused !important;
    }
}

/* Mobile accessibility improvements */
@media (max-width: 600px) {
    .mobile-accessible {
        min-height: 44px !important;
        min-width: 44px !important;
    }

    .mobile-accessible-text {
        font-size: 16px !important;
        line-height: 1.5 !important;
    }
}